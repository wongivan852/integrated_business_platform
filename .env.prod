#
# Integrated Business Platform - Production Environment
# Used with: ./platform.sh start
#

# =============================================================================
# DJANGO SETTINGS
# =============================================================================

# IMPORTANT: Change this to a secure random key in production!
SECRET_KEY=django-insecure-integrated-platform-key-2025

DEBUG=False

# Allowed hosts - internal network and public domain
ALLOWED_HOSTS=localhost,127.0.0.1,192.168.0.104,dashboard.krystal.education,web

# CSRF Trusted Origins - include all access points
CSRF_TRUSTED_ORIGINS=https://dashboard.krystal.education,http://192.168.0.104:8080,http://192.168.0.104:8000,http://localhost:8000,http://localhost:8080

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

USE_SQLITE=False

# Production PostgreSQL
DB_NAME=krystal_platform
DB_USER=platformadmin
DB_PASSWORD=5514
DB_HOST=db
DB_PORT=5432

# =============================================================================
# REDIS SETTINGS
# =============================================================================

REDIS_URL=redis://redis:6379/0

# =============================================================================
# SSO CONFIGURATION
# =============================================================================

# Using the same key from original .env for compatibility
SSO_SECRET_KEY=QrWyU0NmtAj2Ogd1QOPFcl4YSqtMpwQ9HyCV1ebbAlo
SSO_ALGORITHM=HS256
SSO_TOKEN_LIFETIME=3600
SSO_REFRESH_LIFETIME=86400

# =============================================================================
# APPLICATION PORTS
# =============================================================================

LEAVE_PORT=8001
QUOTATION_PORT=8002
EXPENSE_PORT=8003
CRM_PORT=8004
ASSET_PORT=8005
STRIPE_PORT=8006
ATTENDANCE_PORT=8007

# =============================================================================
# PRODUCTION SECURITY
# =============================================================================

# SSL/HTTPS settings (when using SSL)
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True

# HSTS settings
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# =============================================================================
# SSO ENFORCEMENT
# =============================================================================

# Always enforce SSO in production
SSO_ENFORCE=True

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL=INFO
